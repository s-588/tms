package template

templ Index() {
	@Head()
	@Body()
}

templ Head() {
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>Transportation Management System</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
		/>
		<script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
		<script src="/static/js/table-utils.js"></script>
	</head>
}

templ Body() {
	<body>
		@PageHeader()
		@MainPage()
		@PageFooter()
	</body>
}

templ PageHeader() {
	<header>
		<nav class="navbar is-primary is-active" role="navigation" aria-label="main navigation">
			<div class="container">
				<div class="navbar-brand">
					<a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
					</a>
				</div>
				<!-- Navigation Menu -->
				<div id="navbarMenu" class="navbar-menu">
					<!-- Left menu items -->
					<div class="navbar-start">
						<a class="navbar-item" href="/">
							Home
						</a>
						<a class="navbar-item" hx-target="main" hx-get="/about" hx-push-url="true">
							About
						</a>
						<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/functions">
							Functions
						</a>
						<!-- Dropdown menu -->
						<div class="navbar-item has-dropdown is-hoverable">
							<a class="navbar-link">
								Tables
							</a>
							<div class="navbar-dropdown">
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/clients">
									Clients
								</a>
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/employees">
									Employees
								</a>
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/fuels">
									Fuels
								</a>
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/orders">
									Orders
								</a>
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/prices">
									Prices
								</a>
								<a class="navbar-item" hx-target="main" hx-push-url="true" hx-get="/transports">
									Transports
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</header>
	<script>
document.addEventListener('DOMContentLoaded', () => {
  // Get all "navbar-burger" elements
  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

  // Add a click event on each of them
  $navbarBurgers.forEach( el => {
    el.addEventListener('click', () => {
      // Get the target from the "data-target" attribute
      const target = el.dataset.target;
      const $target = document.getElementById(target);

      // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
      el.classList.toggle('is-active');
      $target.classList.toggle('is-active');
    });
  });
});
</script>
}

templ MainPage() {
	<main id="main">
		<section class="hero is-primary is-medium">
			<div class="hero-body">
				<div class="container has-text-centered">
					<h1 class="title is-1">
						Welcome to Transportation Management System
					</h1>
					<p class="subtitle is-4">
						Manage your transportation operations with efficiency
					</p>
				</div>
			</div>
		</section>
		<section class="section">
			<div class="container">
				<div class="columns is-centered">
					<!-- Data Management Category -->
					<div class="column is-5">
						<div class="card">
							<div class="card-header has-background-primary">
								<p class="card-header-title is-size-4 has-text-white">
									<span class="icon mr-2">
										<i class="fas fa-database"></i>
									</span>
									Data Management
								</p>
							</div>
							<div class="card-content">
								<p class="subtitle is-6 mb-4 has-text-grey">
									Select a category to view and manage data:
								</p>
								<div class="buttons are-medium is-flex is-flex-direction-column">
									<a hx-get="/clients" hx-target="main" hx-push-url="true" class="button is-primary is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-users"></i>
										</span>
										<span>Clients</span>
									</a>
									<a hx-target="main" hx-get="/employees" hx-push-url="true" class="button is-info is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-id-badge"></i>
										</span>
										<span>Employees</span>
									</a>
									<a hx-get="/fuels" hx-target="main" hx-push-url="true" class="button is-warning is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-gas-pump"></i>
										</span>
										<span>Fuels</span>
									</a>
									<a hx-get="/orders" hx-target="main" hx-push-url="true" class="button is-success is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-shipping-fast"></i>
										</span>
										<span>Orders</span>
									</a>
									<a hx-get="/prices" hx-target="main" hx-push-url="true" class="button is-link is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-money-bill-wave"></i>
										</span>
										<span>Prices</span>
									</a>
									<a hx-get="/transports" hx-target="main" hx-push-url="true" class="button is-danger is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-truck"></i>
										</span>
										<span>Transports</span>
									</a>
								</div>
							</div>
						</div>
					</div>
					<!-- Operations Category -->
					<div class="column is-5">
						<div class="card">
							<div class="card-header has-background-info">
								<p class="card-header-title is-size-4 has-text-white">
									<span class="icon mr-2">
										<i class="fas fa-cogs"></i>
									</span>
									Operations
								</p>
							</div>
							<div class="card-content">
								<p class="subtitle is-6 mb-4 has-text-grey">
									Quick operations and system functions:
								</p>
								<div class="buttons are-medium is-flex is-flex-direction-column">
									<!-- Create New Record - Updated for consistency -->
									<div class="p-4 mb-5 rounded">
										<p class="subtitle is-6 mb-4 has-text-grey">
											Create New Record:
										</p>
										<div class="buttons are-medium is-flex is-flex-wrap-wrap is-justify-content-center">
											<a class="button is-primary is-fullwidth-mobile mb-2" hx-target="main" hx-get="/clients/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-user-plus"></i>
												</span>
												<span>New Client</span>
											</a>
											<a class="button is-info is-fullwidth-mobile mb-2" hx-target="main" hx-get="/employees/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-user-tie"></i>
												</span>
												<span>New Employee</span>
											</a>
											<a class="button is-warning is-fullwidth-mobile mb-2" hx-target="main" hx-get="/fuels/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-gas-pump"></i>
												</span>
												<span>New Fuel</span>
											</a>
											<a class="button is-success is-fullwidth-mobile mb-2" hx-target="main" hx-get="/orders/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-clipboard-list"></i>
												</span>
												<span>New Order</span>
											</a>
											<a class="button is-link is-fullwidth-mobile mb-2" hx-target="main" hx-get="/prices/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-tag"></i>
												</span>
												<span>New Price</span>
											</a>
											<a class="button is-danger is-fullwidth-mobile mb-2" hx-target="main" hx-get="/transports/new" hx-push-url="true">
												<span class="icon">
													<i class="fas fa-truck"></i>
												</span>
												<span>New Transport</span>
											</a>
										</div>
									</div>
									<!-- Data Operations -->
									<a href="#" class="button is-warning is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-file-export"></i>
										</span>
										<span>Export Data</span>
									</a>
									<a href="#" class="button is-primary is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-file-import"></i>
										</span>
										<span>Import Data</span>
									</a>
									<!-- Reports -->
									<a href="#" class="button is-link is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-chart-line"></i>
										</span>
										<span>View Reports</span>
									</a>
									<!-- System -->
									<a href="#" class="button is-dark is-fullwidth has-text-weight-semibold">
										<span class="icon">
											<i class="fas fa-sliders-h"></i>
										</span>
										<span>System Settings</span>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>
}

templ PageFooter() {
	<div class="has-text-centered mt-6">
		<div class="box is-light">
			<p class="subtitle is-6">
				<span class="icon has-text-info">
					<i class="fas fa-info-circle"></i>
				</span>
				Select a table to view data or an action to perform operations.
				<span class="icon has-text-info">
					<i class="fas fa-info-circle"></i>
				</span>
			</p>
		</div>
	</div>
}
